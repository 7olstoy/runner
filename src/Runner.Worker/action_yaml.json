{
    "definitions": {
        "action-root": {
            "description": "Action file",
            "mapping": {
                "properties": {
                    "name": "string",
                    "description": "string",
                    "inputs": "inputs",
                    "runs": "runs"
                },
                "loose-key-type": "non-empty-string",
                "loose-value-type": "any"
            }
        },
        "inputs": {
            "mapping": {
                "loose-key-type": "non-empty-string",
                "loose-value-type": "input"
            }
        },
        "input": {
            "mapping": {
                "properties": {
                    "default": "input-default-context"
                },
                "loose-key-type": "non-empty-string",
                "loose-value-type": "any"
            }
        },
        "runs": {
            "one-of": [
                "container-runs",
                "node12-runs",
                "plugin-runs",
                "composite-runs"
            ]
        },
        "container-runs": {
            "mapping": {
                "properties": {
                    "using": "non-empty-string",
                    "image": "non-empty-string",
                    "entrypoint": "non-empty-string",
                    "args": "container-runs-args",
                    "env": "container-runs-env",
                    "pre-entrypoint": "non-empty-string",
                    "pre-if": "non-empty-string",
                    "post-entrypoint": "non-empty-string",
                    "post-if": "non-empty-string"
                }
            }
        },
        "container-runs-args": {
            "sequence": {
                "item-type": "container-runs-context"
            }
        },
        "container-runs-env": {
            "context": [
                "inputs"
            ],
            "mapping": {
                "loose-key-type": "non-empty-string",
                "loose-value-type": "string"
            }
        },
        "node12-runs": {
            "mapping": {
                "properties": {
                    "using": "non-empty-string",
                    "main": "non-empty-string",
                    "pre": "non-empty-string",
                    "pre-if": "non-empty-string",
                    "post": "non-empty-string",
                    "post-if": "non-empty-string"
                }
            }
        },
        "plugin-runs": {
            "mapping": {
                "properties": {
                    "plugin": "non-empty-string"
                }
            }
        },
        "composite-runs": {
            "mapping" : {
                "properties": {
                    "using": "non-empty-string",
                    "steps": "steps"
                }
            }
        },
        "steps": {
            "sequence": {
                "item-type": "steps-item"
            }
        },
        "steps-item": {
            "one-of": [
              "run-step",
              "regular-step",
              "steps-template-reference"
            ]
        },
        "run-step": {
            "mapping": {
              "properties": {
                "name": "string-steps-context",
                "id": "non-empty-string",
                "if": "step-if",
                "timeout-minutes": "number-steps-context",
                "run": {
                  "type": "string-steps-context",
                  "required": true
                },
                "continue-on-error": "boolean-steps-context",
                "env": "step-env",
                "working-directory": "string-steps-context",
                "shell": "non-empty-string"
              }
            }
        },
        "regular-step": {
            "mapping": {
              "properties": {
                "name": "string-steps-context",
                "id": "non-empty-string",
                "if": "step-if",
                "continue-on-error": "boolean-steps-context",
                "timeout-minutes": "number-steps-context",
                "uses": {
                  "type": "non-empty-string",
                  "required": true
                },
                "with": "step-with",
                "env": "step-env"
              }
            }
        },
        "steps-template-reference": {
            "mapping": {
              "properties": {
                "template": "non-empty-string",
                "id": "non-empty-string",
                "inputs": "steps-template-reference-inputs"
              }
            }
        },
        "string-steps-context": {
            "context": [
              "github",
              "needs",
              "strategy",
              "matrix",
              "secrets",
              "steps",
              "job",
              "runner",
              "env",
              "hashFiles(1,255)"
            ],
            "string": {}
        },
        "step-if": {
            "context": [
              "github",
              "needs",
              "strategy",
              "matrix",
              "steps",
              "job",
              "runner",
              "env",
              "always(0,0)",
              "failure(0,0)",
              "cancelled(0,0)",
              "success(0,0)",
              "hashFiles(1,255)"
            ],
            "string": {}
        },
        "number-steps-context": {
            "context": [
              "github",
              "needs",
              "strategy",
              "matrix",
              "secrets",
              "steps",
              "job",
              "runner",
              "env",
              "hashFiles(1,255)"
            ],
            "number": {}
        },
        "boolean-steps-context": {
            "context": [
              "github",
              "needs",
              "strategy",
              "matrix",
              "secrets",
              "steps",
              "job",
              "runner",
              "env",
              "hashFiles(1,255)"
            ],
            "boolean": {}
        },
        "step-env": {
            "context": [
              "github",
              "needs",
              "strategy",
              "matrix",
              "secrets",
              "steps",
              "job",
              "runner",
              "env",
              "hashFiles(1,255)"
            ],
            "mapping": {
              "loose-key-type": "non-empty-string",
              "loose-value-type": "string"
            }
        },
        "step-with": {
            "context": [
              "github",
              "needs",
              "strategy",
              "matrix",
              "secrets",
              "steps",
              "job",
              "runner",
              "env",
              "hashFiles(1,255)"
            ],
            "mapping": {
              "loose-key-type": "non-empty-string",
              "loose-value-type": "string"
            }
        },
        "steps-template-reference-inputs": {
            "context": [
              "github",
              "needs",
              "strategy",
              "matrix",
              "secrets",
              "steps",
              "job",
              "runner",
              "env"
            ],
            "mapping": {
              "loose-key-type": "non-empty-string",
              "loose-value-type": "string"
            }
        },
        "container-runs-context": {
            "context": [
                "inputs"
            ],
            "string": {}
        },
        "input-default-context": {
            "context": [
                "github",
                "strategy",
                "matrix",
                "job",
                "runner",
                "hashFiles(1,255)"
            ],
            "string": {}
        },
        "non-empty-string": {
            "string": {
                "require-non-empty": true
            }
        }
    }
}